/*
 * notes-base.css — Shared CSS for notes-generator HTML output
 *
 * The notes-generator agent reads this file and embeds it in a <style> block.
 * Classes here define the visual language for study notes PDFs.
 *
 * Color palette (pastel tints with accent borders):
 *   Navy/Big Idea:  fill #E8EDF3, border #003366
 *   Pink/Trap:      fill #FDE8E8, border #CC0000
 *   Orange/Tip:     fill #FFF3E0, border #FF8800
 *   Gray/Tables:    fill #F5F5F5
 */

/* ── Base Typography ────────────────────────────── */

body {
    font-family: 'Times New Roman', 'Times', serif;
    font-size: 11pt;
    line-height: 1.6;
    color: #000;
    padding: 0 1in;
    margin: 0;
    widows: 2;
    orphans: 2;
}

h1 {
    font-family: Arial, Helvetica, sans-serif;
    font-size: 18pt;
    font-weight: bold;
    margin-top: 24pt;
    margin-bottom: 12pt;
    color: #000;
}

h2 {
    font-family: Arial, Helvetica, sans-serif;
    font-size: 16pt;
    font-weight: bold;
    margin-top: 14pt;
    margin-bottom: 8pt;
    color: #1a1a1a;
}

h3 {
    font-family: Arial, Helvetica, sans-serif;
    font-size: 14pt;
    font-weight: bold;
    margin-top: 10pt;
    margin-bottom: 6pt;
    color: #333;
}

h4 {
    font-family: Arial, Helvetica, sans-serif;
    font-size: 12pt;
    font-weight: bold;
    margin-top: 12pt;
    margin-bottom: 6pt;
    color: #444;
}

/* ── Title Page ─────────────────────────────────── */

.title-page {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    padding: 2in 0;
    /* No page-break-after needed: min-height:100vh fills the page,
       so subsequent content naturally starts on the next page. */
}

.title-page h1 {
    font-size: 28pt;
    margin-bottom: 8pt;
}

.title-page .chapter {
    font-family: Arial, Helvetica, sans-serif;
    font-size: 20pt;
    color: #333;
    margin-bottom: 16pt;
}

.title-page .author {
    font-size: 14pt;
    color: #555;
    margin-bottom: 24pt;
}

.title-page hr {
    width: 40%;
    border: none;
    border-top: 1px solid #999;
    margin: 24pt auto;
}

.title-page .section {
    font-size: 16pt;
    color: #333;
    margin-bottom: 12pt;
}

.title-page .keywords {
    font-size: 11pt;
    color: #666;
    font-style: italic;
}

/* ── Page Breaks ────────────────────────────────── */

.page-break {
    page-break-before: always;
}

.no-break {
    page-break-inside: avoid;
}

/* ── Content Boxes ──────────────────────────────── */

.big-idea {
    background-color: #E8EDF3;
    border: 0.5pt solid #003366;
    border-radius: 4px;
    padding: 16pt 20pt;
    margin: 12pt 0;
    page-break-inside: avoid;
}

.big-idea .box-title {
    font-family: Arial, Helvetica, sans-serif;
    font-weight: bold;
    font-size: 13pt;
    color: #003366;
    margin-bottom: 8pt;
}

.big-idea p {
    margin: 6pt 0;
}

.common-trap {
    background-color: #FDE8E8;
    border: 0.5pt solid #CC0000;
    border-radius: 4px;
    padding: 16pt 20pt;
    margin: 12pt 0;
    page-break-inside: avoid;
}

.common-trap .box-title {
    font-family: Arial, Helvetica, sans-serif;
    font-weight: bold;
    font-size: 13pt;
    color: #CC0000;
    margin-bottom: 8pt;
}

.common-trap p {
    margin: 6pt 0;
}

.useful-tip {
    background-color: #FFF3E0;
    border: 0.5pt solid #FF8800;
    border-radius: 4px;
    padding: 16pt 20pt;
    margin: 12pt 0;
    page-break-inside: avoid;
}

.useful-tip .box-title {
    font-family: Arial, Helvetica, sans-serif;
    font-weight: bold;
    font-size: 13pt;
    color: #FF8800;
    margin-bottom: 8pt;
}

.useful-tip p {
    margin: 6pt 0;
}

/* ── Tables ─────────────────────────────────────── */

table {
    width: 100%;
    border-collapse: collapse;
    margin: 12pt 0;
    font-size: 10.5pt;
    page-break-inside: avoid;
}

th {
    background-color: #E8EDF3;
    font-family: Arial, Helvetica, sans-serif;
    font-weight: bold;
    font-size: 11pt;
    text-align: left;
    padding: 8pt 12pt;
    border: 0.5pt solid #003366;
}

td {
    padding: 8pt 12pt;
    border: 0.5pt solid #ccc;
    vertical-align: top;
}

tr:nth-child(even) td {
    background-color: #F5F5F5;
}

/* ── Lists ──────────────────────────────────────── */

ol, ul {
    margin: 8pt 0;
    padding-left: 24pt;
}

li {
    margin: 4pt 0;
}

/* ── Section Spacing ────────────────────────────── */

.section-divider {
    border: none;
    border-top: 1px solid #ddd;
    margin: 24pt 0;
}

/* ── Try These / Practice ───────────────────────── */

.try-these {
    margin: 12pt 0;
    padding: 12pt 20pt;
    border-left: 3pt solid #003366;
    background-color: #FAFBFC;
    /* Allow splitting across pages — Try These are tall (3 problems + solutions)
       and page-break-inside:avoid wastes half-pages pushing them to next page */
}

.try-these .box-title {
    font-family: Arial, Helvetica, sans-serif;
    font-weight: bold;
    font-size: 13pt;
    color: #003366;
    margin-bottom: 8pt;
}

.practice-problems {
    margin-top: 24pt;
}

.practice-problems h2 {
    border-bottom: 2px solid #003366;
    padding-bottom: 6pt;
}

/* ── Math (KaTeX) ───────────────────────────────── */

.math-inline {
    /* KaTeX auto-render targets these */
}

.math-display {
    margin: 12pt 0;
    text-align: center;
}

/* ── Print Rules ────────────────────────────────── */

@media print {
    body {
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
    }

    .page-break {
        page-break-before: always;
    }

    .no-break {
        page-break-inside: avoid;
    }

    .big-idea, .common-trap, .useful-tip, table {
        page-break-inside: avoid;
    }

    /* .try-these intentionally omitted — allow page splits to avoid half-page whitespace */

    h1, h2, h3, h4 {
        page-break-after: avoid;
    }
}
